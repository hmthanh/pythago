<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Foxit PDF SDK: C:/Users/Administrator/Desktop/workspace/FoxitSDKCPP_WIN/rdkcommon/sdk/doxygen/workspace/headerfiles/common/fxcrt/fx_memory.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Foxit PDF SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('fx__memory_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">fx_memory.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="fx__memory_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_LICENSE</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_BEGIN LIC==FOXIT||LIC==GOOGLE</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * FPDFAPI may be using different heap as the application (in case of DLL version of FPDFAPI),</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * therefore, the application should use the following memory allocation and free functions</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * in order to exchange pointers between the API and application.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * There are two layers of memory manager in FOXIT API:</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *  1. System level memory manager. This level is system dependant.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> *    The API provides a default system memory manager (which uses CRT malloc/free functions),</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *    but application can implement their own manager to cater to different system environment.</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> *  2. Foxit memory manager. This level is system independant, but it relies on a system level manager.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> *    The API provides a default Foxit memory manager, which relies on the default system manager.</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> *    Applications can not customize the Foxit memory manager, but they can create different</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> *    Foxit memory manager instance, that rely on different underlying system manager</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> *    (for example, each system manager may use a different heap, then, different Foxit manager</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> *    will be able to use separate heaps.)</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> *  Foxit memory manager also provide sub-heap feature for aggregating objects together to</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> *  avoid memory fragmentation.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_BEGIN</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#ifndef _FX_MEMORY_H_</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#define _FX_MEMORY_H_</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#ifndef _FX_SYSTEM_H_</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">  #include &quot;<a class="code" href="fx__system_8h.html">fx_system.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga9f16e09ec145dae3d4bf5d80ccac4e6b">   58</a></span>&#160;<span class="preprocessor">#define FXMEM_NONLEAVE      1</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#gae1af5885857390474dba58761402decc">   60</a></span>&#160;<span class="preprocessor">#define FXMEM_MOVABLE      2</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga5a954392fd3c39b66a6d20793ff9b43a">   62</a></span>&#160;<span class="preprocessor">#define FXMEM_DISCARDABLE    4</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// Base memory routines</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html">   72</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_FXMEM_SystemMgr {</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#a51ecadae11f17e12db6d1708a899ef4b">   85</a></span>&#160;  <span class="keywordtype">void</span>* (*Alloc)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#a9a3760f75e868157416e2626d6ffed8c">  100</a></span>&#160;  <span class="keywordtype">void</span>* (*AllocDebug)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#a98bdd96eed542c44fd55f0091faaf6f5">  114</a></span>&#160;  <span class="keywordtype">void</span>* (*Realloc)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr, <span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#ae76ed915b91d204b9ce06973661dd46f">  130</a></span>&#160;  <span class="keywordtype">void</span>* (*ReallocDebug)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr, <span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#a43b806141447294b72ef78ee90c16b93">  142</a></span>&#160;  <span class="keywordtype">void</span>* (*Lock)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr, <span class="keywordtype">void</span>* handle);</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#ae844bcbb212c31439be2015cfff8f84d">  154</a></span>&#160;  void  (*Unlock)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr, <span class="keywordtype">void</span>* handle);</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#a3847dc16d708006020e438ace64a0c04">  167</a></span>&#160;  void  (*Free)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr, <span class="keywordtype">void</span>* pointer, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#aa186228fd3b95eaee757f2b5de85c651">  179</a></span>&#160;  void  (*Purge)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr);</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#a152c6327d32e9bf5ec2ad5eab16d8c38">  190</a></span>&#160;  void  (*CollectAll)(<span class="keyword">struct </span>_FXMEM_SystemMgr* pMgr);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr.html#a2b1fbc32711019f433f6e83dcfae98bf">  193</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="struct_f_x_m_e_m___system_mgr.html#a2b1fbc32711019f433f6e83dcfae98bf">user</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;} <a class="code" href="struct_f_x_m_e_m___system_mgr.html">FXMEM_SystemMgr</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="struct___f_x_m_e_m___foxit_mgr.html">  201</a></span>&#160;<a class="code" href="group___f_x_c_r_t.html#ga70ffe9aa46fe93b5595ae1920c41b681">FX_DEFINEHANDLE</a>(FXMEM_FoxitMgr)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;FXMEM_FoxitMgr*  <a class="code" href="group___f_x_c_r_t.html#gae235655d576e7ae534cbdaf48eb4e15b">FXMEM_CreateFoxitMgr</a>(<a class="code" href="struct_f_x_m_e_m___system_mgr.html">FXMEM_SystemMgr</a>* pSystemMgr);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr2.html">  220</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_FXMEM_SystemMgr2</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr2.html#aa34e9b6a144aa57e12e37acb9277874e">  232</a></span>&#160;  <a class="code" href="group___f_x_c_r_t.html#gaa75cf67c1a1aabffd8cdf879c6cfd894">FX_BOOL</a>  (*More)(<span class="keyword">struct </span>_FXMEM_SystemMgr2* pMgr, <span class="keywordtype">size_t</span> alloc_size, <span class="keywordtype">void</span>** new_memory, <span class="keywordtype">size_t</span>* new_size);</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___system_mgr2.html#aefc2acc37b3571cd20f0bfe7ff048e86">  241</a></span>&#160;  void  (*Free)(<span class="keyword">struct </span>_FXMEM_SystemMgr2* pMgr, <span class="keywordtype">void</span>* memory);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;} <a class="code" href="struct_f_x_m_e_m___system_mgr2.html">FXMEM_SystemMgr2</a>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;FXMEM_FoxitMgr*  <a class="code" href="group___f_x_c_r_t.html#gaf310478443bfad8646b93ef6e4a9db51">FXMEM_CreateFixedMgr</a>(<span class="keywordtype">void</span>* pMemory, <span class="keywordtype">size_t</span> size, <a class="code" href="struct_f_x_m_e_m___system_mgr2.html">FXMEM_SystemMgr2</a>* pExtender);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;FXMEM_FoxitMgr* <a class="code" href="group___f_x_c_r_t.html#ga0e14a7273164a9365672354d10b5c66f">FXMEM_CreateMemoryMgr</a>(<span class="keywordtype">size_t</span> size, <a class="code" href="group___f_x_c_r_t.html#gaa75cf67c1a1aabffd8cdf879c6cfd894">FX_BOOL</a> extensible);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="group___f_x_c_r_t.html#ga60573e8cfb7dd7dcf96f2cd9b2ae630e">FXMEM_GetBlockSizeInFixedMgr</a>(FXMEM_FoxitMgr* pFoxitMgr, <span class="keywordtype">void</span>* ptr);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;FXMEM_FoxitMgr* <a class="code" href="group___f_x_c_r_t.html#ga25d14dfc6942f1e8b9518a78997e44d2">FXMEM_GetDefaultMgr</a>();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#ga83a626d25e6204ffc6367fc2d8569d50">FXMEM_SetDefaultMgr</a>(FXMEM_FoxitMgr* pFoxitMgr);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#ga0fedf38e31c6f77437d15d234c04af7f">FXMEM_DestroyFoxitMgr</a>(FXMEM_FoxitMgr* pFoxitMgr);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#gaae0d815ba3467649def8daef4e75891d">FXMEM_Alloc</a>(FXMEM_FoxitMgr* pFoxitMgr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga377b57daa82ed9d1902ca0d6669d74fa">FXMEM_AllocDebug</a>(FXMEM_FoxitMgr* pFoxitMgr, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga3c260bff237ff35678290d2465dbd6da">FXMEM_Realloc</a>(FXMEM_FoxitMgr* pFoxitMgr, <span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> new_size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga5c63073a201f4787f301ee27f8901aee">FXMEM_ReallocDebug</a>(FXMEM_FoxitMgr* pFoxitMgr, <span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> new_size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#ga5bd03555281433ef41c6a84068c3e159">FXMEM_Free</a>(FXMEM_FoxitMgr* pFoxitMgr, <span class="keywordtype">void</span>* pointer, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#ga39a4a842bf1da0719cffabeee924e772">FXMEM_CollectAll</a>(FXMEM_FoxitMgr* pFoxitMgr);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#ga221a3f5c30e5edef32877a8306d638d6">FXMEM_PurgeMgr</a>(FXMEM_FoxitMgr* pFoxitMgr);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#gae38808021b371e293fed6407c0c2e3e1">FXMEM_ReportOOM</a>(FXMEM_FoxitMgr* pFoxitMgr);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___debugger.html">  406</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___debugger.html#afc41f663751239e9334edc63e01cb1ec">  420</a></span>&#160;  void  (*OnAlloc)(FXMEM_FoxitMgr* pMgr, <span class="keywordtype">void</span>* p, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___debugger.html#aa15d4a750413736a370918386794c9b1">  436</a></span>&#160;  void  (*OnAllocDebug)(FXMEM_FoxitMgr* pMgr, <span class="keywordtype">void</span>* p, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___debugger.html#a67dacb7aa0877a19fa94dcf5bc6fee65">  451</a></span>&#160;  void  (*OnRealloc)(FXMEM_FoxitMgr* pMgr, <span class="keywordtype">void</span>* old_p, <span class="keywordtype">void</span>* new_p, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___debugger.html#a9411a76ae3e5aaf816c3d6f6c8ab6fd9">  468</a></span>&#160;  void  (*OnReallocDebug)(FXMEM_FoxitMgr* pMgr, <span class="keywordtype">void</span>* old_p, <span class="keywordtype">void</span>* new_p, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___debugger.html#a7e35eb9e1369100c68c7dfc7c40d4580">  481</a></span>&#160;  void  (*OnFree)(FXMEM_FoxitMgr* pMgr, <span class="keywordtype">void</span>* p, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="struct_f_x_m_e_m___debugger.html#a63dd7018a8fb3011623697ebf0f73ffd">  493</a></span>&#160;  void  (*OnTag)(FXMEM_FoxitMgr* pMgr, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> tag);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;} <a class="code" href="struct_f_x_m_e_m___debugger.html">FXMEM_Debugger</a>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#ga7d8f665ccf8544976f10dc72b91e493f">FXMEM_UseDebugger</a>(FXMEM_FoxitMgr* pFoxitMgr, <a class="code" href="struct_f_x_m_e_m___debugger.html">FXMEM_Debugger</a>* pDebugger);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#gaa7f782ca09293b3694a0c3b3ae0e6b28">FXMEM_OutputDebugTag</a>(FXMEM_FoxitMgr* pFoxitMgr, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> tag);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga16a2b12fc0bef588016c4c0fce2f8506">  524</a></span>&#160;<span class="keyword">typedef</span> void (*<a class="code" href="group___f_x_c_r_t.html#ga16a2b12fc0bef588016c4c0fce2f8506">FPDF_OOM_Handler</a>)(FXMEM_FoxitMgr* pFoxitMgr, <span class="keywordtype">void</span>* param);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#gac9cbf18960498b1eddc786f3b953224a">FXMEM_SetOOMHandler</a>(FXMEM_FoxitMgr* pFoxitMgr, <a class="code" href="group___f_x_c_r_t.html#ga16a2b12fc0bef588016c4c0fce2f8506">FPDF_OOM_Handler</a> pOOMReportFunc, <span class="keywordtype">void</span>* param);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#gaaf5f92018115eb5334fa496a3060433e">FXMEM_DefaultAlloc</a>(<span class="keywordtype">size_t</span> byte_size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga1ddb582bff3db4e143474b53d2155f50">FXMEM_DefaultAlloc2</a>(<span class="keywordtype">size_t</span> units, <span class="keywordtype">size_t</span> unit_size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga0bea62e42a0c3ca5d3ea6810f15fe246">FXMEM_DefaultAllocDebug</a>(<span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga38c83c4d7fdec68008d74a093409fc8c">FXMEM_DefaultAllocDebug2</a>(<span class="keywordtype">size_t</span> units, <span class="keywordtype">size_t</span> unit_size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#gae8d15b94983c03fb7320c7f749ae3766">FXMEM_DefaultRealloc</a>(<span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> new_size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#gacea607ace87e91f2b0cccf2f65b3b339">FXMEM_DefaultRealloc2</a>(<span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> units, <span class="keywordtype">size_t</span> unit_size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga3b0d9004e86508b5c9d8868e81fb31e6">FXMEM_DefaultReallocDebug</a>(<span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> new_size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="keywordtype">void</span>*  <a class="code" href="group___f_x_c_r_t.html#ga610dbf07bf0438472f88d737ce1ac962">FXMEM_DefaultReallocDebug2</a>(<span class="keywordtype">void</span>* pointer, <span class="keywordtype">size_t</span> units, <span class="keywordtype">size_t</span> unit_size, <span class="keywordtype">int</span> flags, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#gab48e50d5a280831b5ac669cb30ee6b72">FXMEM_DefaultFree</a>(<span class="keywordtype">void</span>* pointer, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">/* FPDFAPI applications should use the FX_Alloc macro for non-class data types */</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="preprocessor">  #define FX_Alloc(type, size) (type*)FXMEM_DefaultAllocDebug2(size, sizeof(type), 0, __FILE__, __LINE__)</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="preprocessor">  #define FX_Realloc(type, ptr, new_size) (type*)FXMEM_DefaultReallocDebug2(ptr, new_size, sizeof(type), 0, __FILE__, __LINE__)</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#gaf299b214124c4dc1beb4e155aa1202eb">  651</a></span>&#160;<span class="preprocessor">  #define FX_Alloc(type, size) (type*)FXMEM_DefaultAlloc2(size, sizeof(type), 0)</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#gaf3ea2011f6d79e64bf32ba2a17d6a45a">  656</a></span>&#160;<span class="preprocessor">  #define FX_Realloc(type, ptr, size) (type*)FXMEM_DefaultRealloc2(ptr, size, sizeof(type), 0)</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">  #define FX_AllocNL(type, size) (type*)FXMEM_DefaultAllocDebug2(size, sizeof(type), FXMEM_NONLEAVE, __FILE__, __LINE__)</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor">  #define FX_ReallocNL(type, ptr, new_size) (type*)FXMEM_DefaultReallocDebug2(ptr, new_size, sizeof(type), FXMEM_NONLEAVE, __FILE__, __LINE__)</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#gac3ee8eb80a757b56164da4972cdc9a47">  667</a></span>&#160;<span class="preprocessor">  #define FX_AllocNL(type, size) (type*)FXMEM_DefaultAlloc2(size, sizeof(type), FXMEM_NONLEAVE)</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#gaf9b490c1bc660951cdf3d985f0ec66d9">  672</a></span>&#160;<span class="preprocessor">  #define FX_ReallocNL(type, ptr, size) (type*)FXMEM_DefaultRealloc2(ptr, size, sizeof(type), FXMEM_NONLEAVE)</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga1404788c5e4c538b80625db682ac5a4f">  676</a></span>&#160;<span class="preprocessor">#define FX_Free(pointer) FXMEM_DefaultFree(pointer, 0)</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#if __cplusplus &gt;= 201103L</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="preprocessor">#define FX_EQDELETE = delete</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="preprocessor">#define FX_NOEXCEPT noexcept</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor">#define FX_EXPLICIT_OPERATOR explicit</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="preprocessor">#define FX_EQDELETE //= delete</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="preprocessor">#define FX_NOEXCEPT //noexcept</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="preprocessor">#define FX_EXPLICIT_OPERATOR //explicit</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">// A template that can hold either owned or unowned references, and cleans up</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">// appropriately.  Possibly the most pernicious anti-pattern imaginable, but</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment">// it crops up throughout the codebase due to a desire to avoid copying-in</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment">// objects or data.</span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> D = std::default_delete&lt;T&gt;&gt;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="keyword">class </span>CFX_MaybeOwned {</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  CFX_MaybeOwned() : m_pObj(<span class="keyword">nullptr</span>) {}</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keyword">explicit</span> CFX_MaybeOwned(T* ptr) : m_pObj(ptr) {}</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keyword">explicit</span> CFX_MaybeOwned(std::unique_ptr&lt;T, D&gt; ptr)</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    : m_pOwnedObj(std::move(ptr)), m_pObj(m_pOwnedObj.get()) {}</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  CFX_MaybeOwned(CFX_MaybeOwned&amp;&amp; that) FX_NOEXCEPT</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    : m_pOwnedObj(that.m_pOwnedObj.release()), m_pObj(that.m_pObj) {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    that.m_pObj = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordtype">void</span> Reset(std::unique_ptr&lt;T, D&gt; ptr) {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    m_pOwnedObj = std::move(ptr);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    m_pObj = m_pOwnedObj.get();</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordtype">void</span> Reset(T* ptr = <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    m_pOwnedObj.reset();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    m_pObj = ptr;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordtype">bool</span> IsOwned()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !!m_pOwnedObj; }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  T* Get()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pObj; }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  std::unique_ptr&lt;T, D&gt; Release() {</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="group___f_x_c_r_t.html#ga5d5f62b566bd3a77d449fccb7b1a9656">ASSERT</a>(IsOwned());</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">return</span> std::move(m_pOwnedObj);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  CFX_MaybeOwned&amp; operator=(CFX_MaybeOwned&amp;&amp; that) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    m_pOwnedObj = std::move(that.m_pOwnedObj);</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    m_pObj = that.m_pObj;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    that.m_pObj = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  CFX_MaybeOwned&amp; operator=(T* ptr) {</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    Reset(ptr);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  }</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  CFX_MaybeOwned&amp; operator=(std::unique_ptr&lt;T, D&gt; ptr) {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    Reset(std::move(ptr));</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="fs__basictypes_8h.html#acfd5f7b33d7381a4bae9103c2c1285d8">operator==</a>(<span class="keyword">const</span> CFX_MaybeOwned&amp; that)<span class="keyword"> const </span>{</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">return</span> Get() == that.Get();</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="fs__basictypes_8h.html#acfd5f7b33d7381a4bae9103c2c1285d8">operator==</a>(<span class="keyword">const</span> std::unique_ptr&lt;T, D&gt;&amp; ptr)<span class="keyword"> const </span>{</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> Get() == ptr.get();</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="fs__basictypes_8h.html#acfd5f7b33d7381a4bae9103c2c1285d8">operator==</a>(T* ptr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Get() == ptr; }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="fs__basictypes_8h.html#abf1bb33dae0fbee234dbfeb8d0e2d270">operator!=</a>(<span class="keyword">const</span> CFX_MaybeOwned&amp; that)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == that); }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="fs__basictypes_8h.html#abf1bb33dae0fbee234dbfeb8d0e2d270">operator!=</a>(<span class="keyword">const</span> std::unique_ptr&lt;T, D&gt; ptr)<span class="keyword"> const </span>{</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == ptr);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="fs__basictypes_8h.html#abf1bb33dae0fbee234dbfeb8d0e2d270">operator!=</a>(T* ptr)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == ptr); }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  FX_EXPLICIT_OPERATOR <span class="keyword">operator</span> bool()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !!m_pObj; }</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  T&amp; operator*()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> *m_pObj; }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  T* operator-&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pObj; }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  CFX_MaybeOwned(<span class="keyword">const</span> CFX_MaybeOwned&amp; that) FX_EQDELETE;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  CFX_MaybeOwned&amp; operator=(<span class="keyword">const</span> CFX_MaybeOwned&amp; that) FX_EQDELETE;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  std::unique_ptr&lt;T, D&gt; m_pOwnedObj;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  T* m_pObj;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;};</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">// Used with std::unique_ptr to FX_Free raw memory.</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="keyword">struct </span>CFX_FreeDeleter {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> operator()(<span class="keywordtype">void</span>* ptr)<span class="keyword"> const </span>{ <a class="code" href="group___f_x_c_r_t.html#ga1404788c5e4c538b80625db682ac5a4f">FX_Free</a>(ptr); }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;};</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="keyword">class </span>CFX_Object</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;{</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span> (<span class="keywordtype">size_t</span> size, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span> (<span class="keywordtype">void</span>* p, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span> (<span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span> (<span class="keywordtype">void</span>* p);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span>[] (<span class="keywordtype">size_t</span> size, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span>[] (<span class="keywordtype">void</span>* p, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span>[] (<span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span>[] (<span class="keywordtype">void</span>* p);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span> (size_t, <span class="keywordtype">void</span>* buf) { <span class="keywordflow">return</span> buf; }</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span> (<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*) {}</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  ~CFX_Object() {}</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;};</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="preprocessor">#if (_FX_OS_ == _FX_WIN32_DESKTOP_ || _FX_OS_ == _FX_WIN32_MOBILE_ || _FX_OS_ == _FX_WIN64_) &amp;&amp; !defined(__PLACEMENT_NEW_INLINE) &amp;&amp; !defined(_MFC_VER) &amp;&amp; !defined(_NEW)</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="preprocessor">  #define __PLACEMENT_NEW_INLINE</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span>* <span class="keyword">operator</span> <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size, <span class="keywordtype">void</span>* pos)</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">return</span> pos;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  }</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">operator</span> <span class="keyword">delete</span>(<span class="keywordtype">void</span>* ptr, <span class="keywordtype">void</span>* pos)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="preprocessor">#endif //__PLACEMENT_NEW_INLINE</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="preprocessor">#endif //__cplusplus</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_BEGIN</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="preprocessor">#if defined(_DEBUG)</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="preprocessor">  #define FX_NEW new(__FILE__, __LINE__)</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="preprocessor">  #define FX_NEW new</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="preprocessor">#ifndef _FPDFAPI_MINI_</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_BEGIN LIC==FOXIT</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"></span><span class="preprocessor">  #define FX_NEW_VECTOR(Pointer, Class, Count) Pointer = FX_NEW Class[Count]</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="preprocessor">  #define FX_DELETE_VECTOR(Pointer, Class, Count) delete[] Pointer</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_END</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_BEGIN LIC==GOOGLE</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="preprocessor">  #define FX_NEW_VECTOR(Pointer, Class, Count) \</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="preprocessor">    { \</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="preprocessor">      Pointer = FX_Alloc(Class, Count); \</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="preprocessor">      if (Pointer) { \</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="preprocessor">        for (int i = 0; i &lt; (Count); i ++) new (Pointer + i) Class; \</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="preprocessor">      } \</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">    }</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="preprocessor">  #define FX_DELETE_VECTOR(Pointer, Class, Count) \</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="preprocessor">    { \</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">      for (int i = 0; i &lt; (Count); i ++) Pointer[i].~Class(); \</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="preprocessor">      FX_Free(Pointer); \</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">    }</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_END</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_BEGIN</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"></span><span class="keyword">class </span>CFX_DestructObject : <span class="keyword">public</span> CFX_Object</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;{</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keyword">virtual</span> ~CFX_DestructObject() {}</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;};</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="preprocessor">#endif //__cplusplus</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="struct_i_f_x___allocator.html">  960</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_IFX_Allocator</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;{</div><div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="struct_i_f_x___allocator.html#a7fb54d79439452a051aa09d6ba5e9e2d">  975</a></span>&#160;  <span class="keywordtype">void</span>*  (*m_AllocDebug)(<span class="keyword">struct </span>_IFX_Allocator* pAllocator, <span class="keywordtype">size_t</span> size, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="struct_i_f_x___allocator.html#afd070290eac1ac5450e53a6da98e679b">  987</a></span>&#160;  <span class="keywordtype">void</span>*  (*m_Alloc)(<span class="keyword">struct </span>_IFX_Allocator* pAllocator, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="struct_i_f_x___allocator.html#a025c2701886b235396fce75667e11aa1"> 1002</a></span>&#160;  <span class="keywordtype">void</span>*  (*m_ReallocDebug)(<span class="keyword">struct </span>_IFX_Allocator* pAllocator, <span class="keywordtype">void</span>* p, <span class="keywordtype">size_t</span> size, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="struct_i_f_x___allocator.html#a8688651145bfb0629d2e78c0324cc2dd"> 1015</a></span>&#160;  <span class="keywordtype">void</span>*  (*m_Realloc)(<span class="keyword">struct </span>_IFX_Allocator* pAllocator, <span class="keywordtype">void</span>* p, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l01027"></a><span class="lineno"><a class="line" href="struct_i_f_x___allocator.html#a99c384ffdd09e25f62d40b3782fe31ce"> 1027</a></span>&#160;  void  (*m_Free)(<span class="keyword">struct </span>_IFX_Allocator* pAllocator, <span class="keywordtype">void</span>* p);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;} <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* <a class="code" href="group___f_x_c_r_t.html#ga845e3b8232e3ca518c79f47105160cd3">FXMEM_GetDefAllocator</a>();</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="preprocessor">#ifdef _DEBUG</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="preprocessor">  #define FX_Allocator_Alloc(fxAllocator, type, size) \</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="preprocessor">    ((fxAllocator) ? (type*)(fxAllocator)-&gt;m_AllocDebug((fxAllocator), (size) * sizeof(type), __FILE__, __LINE__) : (FX_Alloc(type, size)))</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="preprocessor">  #define FX_Allocator_Realloc(fxAllocator, type, ptr, new_size) \</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="preprocessor">    ((fxAllocator) ? (type*)(fxAllocator)-&gt;m_ReallocDebug((fxAllocator), (ptr), (new_size) * sizeof(type), __FILE__, __LINE__) : (FX_Realloc(type, ptr, new_size)))</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div><div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga39138b06d1118d0c6f46785f1cfd2d0b"> 1050</a></span>&#160;<span class="preprocessor">  #define FX_Allocator_Alloc(fxAllocator, type, size) \</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="preprocessor">    ((fxAllocator) ? (type*)(fxAllocator)-&gt;m_Alloc((fxAllocator), (size) * sizeof(type)) : (FX_Alloc(type, size)))</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga0f2304af84b26d59f715fce4f39f6524"> 1053</a></span>&#160;<span class="preprocessor">  #define FX_Allocator_Realloc(fxAllocator, type, ptr, new_size) \</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="preprocessor">    ((fxAllocator) ? (type*)(fxAllocator)-&gt;m_Realloc((fxAllocator), (ptr), (new_size) * sizeof(type)) : (FX_Realloc(type, ptr, new_size)))</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#gaaa35b88a6c2a0932f53366f29e72b3ce"> 1057</a></span>&#160;<span class="preprocessor">#define FX_Allocator_Free(fxAllocator, ptr) \</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="preprocessor">    ((fxAllocator) ? (fxAllocator)-&gt;m_Free((fxAllocator), (ptr)) : (FX_Free(ptr)))</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span>* <span class="keyword">operator</span> <span class="keyword">new</span>(<span class="keywordtype">size_t</span> size, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* fxAllocator)</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;{</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)<a class="code" href="group___f_x_c_r_t.html#ga39138b06d1118d0c6f46785f1cfd2d0b">FX_Allocator_Alloc</a>(fxAllocator, <a class="code" href="group___f_x_c_r_t.html#ga67373b495022b8af2b92b7a0f0ba60a9">FX_BYTE</a>, size);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <span class="keyword">operator</span> <span class="keyword">delete</span>(<span class="keywordtype">void</span>* ptr, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* fxAllocator)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;{</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <a class="code" href="group___f_x_c_r_t.html#gaaa35b88a6c2a0932f53366f29e72b3ce">FX_Allocator_Free</a>(fxAllocator, ptr);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="preprocessor">#define FX_NewAtAllocator(fxAllocator) \</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="preprocessor">  ::new(static_cast&lt;IFX_Allocator*&gt;(fxAllocator))</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="preprocessor">#define FX_DeleteAtAllocator(pointer, fxAllocator, __class__) \</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="preprocessor">  do { (pointer)-&gt;~__class__(); ::operator delete(static_cast&lt;void*&gt;(pointer), static_cast&lt;IFX_Allocator*&gt;(fxAllocator)); } while(false)</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="keyword">class </span>CFX_AllocObject</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;{</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span> (<span class="keywordtype">size_t</span> size, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span> (<span class="keywordtype">void</span>* p, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line);</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span> (<span class="keywordtype">size_t</span> size, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span> (<span class="keywordtype">void</span>* p);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span> (<span class="keywordtype">void</span>* p, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator);</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span> (size_t, <span class="keywordtype">void</span>* buf) { <span class="keywordflow">return</span> buf; }</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span> (<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*) {}</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>*  GetAllocator()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_pAllocator; }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="keyword">private</span>:  <span class="comment">/* all vector operators are disabled */</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span>[] (<span class="keywordtype">size_t</span> size, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line) { <span class="keywordflow">return</span> <span class="keyword">operator</span> <span class="keyword">new</span>(size, pAllocator, file, line); }</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span>[] (<span class="keywordtype">void</span>* p, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line) {}</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordtype">void</span>*      <span class="keyword">operator</span> <span class="keyword">new</span>[] (<span class="keywordtype">size_t</span> size, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator) { <span class="keywordflow">return</span> <span class="keyword">operator</span> <span class="keyword">new</span>(size, pAllocator); }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span>[] (<span class="keywordtype">void</span>* p) {}</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="preprocessor">#ifndef _FX_NO_EXCEPTION_</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordtype">void</span>      <span class="keyword">operator</span> <span class="keyword">delete</span>[] (<span class="keywordtype">void</span>* p, <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator) {}</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">   * The memory allocator.</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>*  m_pAllocator;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;};</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="preprocessor">#if defined(_DEBUG)</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="preprocessor">  #define FX_NEWAT(pAllocator) new(pAllocator, __FILE__, __LINE__)</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="preprocessor">  #define FX_NEWAT(pAllocator) new(pAllocator)</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment">//Cocurrency controls</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="preprocessor">#if !defined(_FPDFAPI_MT_NONE_) &amp;&amp; !defined(_FPDFAPI_MT_)</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// We enable multi-threading by default on all systems. However, MT can be disabled by compilation macro</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="preprocessor">  #define _FPDFAPI_MT_</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="preprocessor">#ifdef _FPDFAPI_MT_</span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keyword">class </span>CFX_LockObject : <span class="keyword">public</span> CFX_Object</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    CFX_LockObject() {FX_InitializeCriticalSection(&amp;m_Lock);}</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    ~CFX_LockObject() {FX_DeleteCriticalSection(&amp;m_Lock);}</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="group___f_x_c_r_t.html#gaa75cf67c1a1aabffd8cdf879c6cfd894">FX_BOOL</a>    TryLock()  {<span class="keywordflow">return</span> FX_TryEnterCriticalSection(&amp;m_Lock);}</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordtype">void</span>    Lock()    {FX_EnterCriticalSection(&amp;m_Lock);}</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordtype">void</span>    Unlock()  {FX_LeaveCriticalSection(&amp;m_Lock);}</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="comment">/* Critical section. */</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    FX_CRITICAL_SECTION    m_Lock;</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span>CFX_CSLock;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  };</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keyword">class </span>CFX_CSLock</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    CFX_CSLock() : m_pCS(<a class="code" href="group___f_x_c_r_t.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {}</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    CFX_CSLock(FX_CRITICAL_SECTION* pCS) : m_pCS(pCS) {<span class="keywordflow">if</span> (m_pCS) FX_EnterCriticalSection(m_pCS);}</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    CFX_CSLock(CFX_LockObject* pObj) {m_pCS = &amp;pObj-&gt;m_Lock; FX_EnterCriticalSection(m_pCS);}</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    ~CFX_CSLock() {<span class="keywordflow">if</span> (m_pCS) FX_LeaveCriticalSection(m_pCS);}</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    FX_CRITICAL_SECTION*  m_pCS;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  };</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="preprocessor">  #define FXMT_CSLOCK_THIS          CFX_CSLock _fx_lock((CFX_LockObject*)this)</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="preprocessor">  #define FXMT_CSLOCK_OBJ(lock)        CFX_CSLock _fx_lock((CFX_LockObject*)lock)</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="preprocessor">  #define FXMT_CSLOCK_DEFINEOBJ(csLock, lock) CFX_CSLock csLock((CFX_LockObject*)lock)</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_DEFINE(lockObj)    CFX_LockObject lockObj</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_TRYLOCK(lockObj)  (lockObj)-&gt;TryLock()</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_TRYLOCK_IF(lockObj)  if ((lockObj)-&gt;TryLock())</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_LOCK(lockObj)    (lockObj)-&gt;Lock()</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_UNLOCK(lockObj)    (lockObj)-&gt;Unlock()</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="preprocessor">#else </span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="preprocessor">  class CFX_LockObject : public CFX_Object {};</span></div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="preprocessor">  #define FXMT_CSLOCK_THIS</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="preprocessor">  #define FXMT_CSLOCK_OBJ(lock)</span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="preprocessor">  #define FXMT_CSLOCK_DEFINEOBJ(csLock, lock)</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_DEFINE(lockObj)</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_TRYLOCK(lockObj)</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_TRYLOCK_IF(lockObj)  if (1)</span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_LOCK(lockObj)</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="preprocessor">  #define FXMT_LOCKOBJECT_UNLOCK(lockObj)</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="keyword">class </span>CFX_GrowOnlyPool : <span class="keyword">public</span> <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>, <span class="keyword">public</span> CFX_Object</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;{</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  CFX_GrowOnlyPool(<a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator = <a class="code" href="group___f_x_c_r_t.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keywordtype">size_t</span> trunk_size = 16384);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  ~CFX_GrowOnlyPool();</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordtype">void</span>  SetAllocator(<a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>* pAllocator);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keywordtype">void</span>  SetTrunkSize(<span class="keywordtype">size_t</span> trunk_size) { m_TrunkSize = trunk_size; }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="keywordtype">void</span>*  AllocDebug(<span class="keywordtype">size_t</span> size, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line) { <span class="keywordflow">return</span> Alloc(size); }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordtype">void</span>*  Alloc(<span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="keywordtype">void</span>*  ReallocDebug(<span class="keywordtype">void</span>* p, <span class="keywordtype">size_t</span> new_size, <a class="code" href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a> file, <span class="keywordtype">int</span> line) { <span class="keywordflow">return</span> <a class="code" href="group___f_x_c_r_t.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; }</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordtype">void</span>*  Realloc(<span class="keywordtype">void</span>* p, <span class="keywordtype">size_t</span> new_size) { <span class="keywordflow">return</span> <a class="code" href="group___f_x_c_r_t.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; }</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="keywordtype">void</span> Free(<span class="keywordtype">void</span>* mem) {}</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordtype">void</span>  FreeAll();</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">/* Trunk size. */</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordtype">size_t</span>  m_TrunkSize;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="comment">/* Pointer to the first trunk. */</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordtype">void</span>*  m_pFirstTrunk;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="comment">/* Memory allocator. */</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <a class="code" href="struct_i_f_x___allocator.html">IFX_Allocator</a>*  m_pAllocator;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="comment">/* Critical section used for synchronization. */</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    FX_CRITICAL_SECTION  m_Lock;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;};</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">// A Proxy class for allocate memory.</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span>AllocProxy : <span class="keyword">public</span> CFX_Object {</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  AllocProxy(<span class="keywordtype">size_t</span> size) { buffer = (T *)<a class="code" href="group___f_x_c_r_t.html#gaf299b214124c4dc1beb4e155aa1202eb">FX_Alloc</a>(T, size); }</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  ~AllocProxy() { <span class="keywordflow">if</span> (buffer) <a class="code" href="group___f_x_c_r_t.html#ga1404788c5e4c538b80625db682ac5a4f">FX_Free</a>(buffer); }</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  T &amp;operator[](<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> buffer[index]; }</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keyword">operator</span> T *() { <span class="keywordflow">return</span> buffer; }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  T *<a class="code" href="group___f_x_c_r_t.html#ga959b5d0870645bdd6a3d0b9b9bb09e27">operator +</a>(<span class="keywordtype">int</span> offset) { <span class="keywordflow">return</span> buffer + offset; }</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="keyword">operator</span> bool()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !!buffer; }</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  T *operator-&gt;()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> buffer; }</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  AllocProxy(<span class="keyword">const</span> AllocProxy &amp;) {}</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;  AllocProxy &amp;operator=(<span class="keyword">const</span> AllocProxy &amp;) {}</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  T* buffer;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;};</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="comment">// Used with std::unique_ptr to Release() objects that can&#39;t be deleted.</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="keyword">struct </span>CFX_ReleaseDeleter {</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> operator()(T* ptr)<span class="keyword"> const </span>{ ptr-&gt;Release(); }</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;};</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_BEGIN</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="preprocessor">#endif //__cplusplus</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment">//*****************************************************************************</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">//* Fixed memory management</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment">//*****************************************************************************</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="preprocessor">#define _FXMEM_NO64_</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">//#define  _FXMEM_LIT_</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga61d231e6b08422c7758cff35f599a291"> 1463</a></span>&#160;<span class="preprocessor">#define FX_FIXEDMEM_PAGESIZE    (4096 * 16)</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="group___f_x_c_r_t.html#ga1c70d39b0cf58cf19ce327d8a6369853"> 1465</a></span>&#160;<span class="preprocessor">#define FX_FIXEDMEM_MIDBLOCKSIZE  (4096)</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html"> 1468</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>_FX_MEMCONFIG</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;{</div><div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a0316c6fb84ad7a307acc0efc4f8363d7"> 1471</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a0316c6fb84ad7a307acc0efc4f8363d7">nPageNum_Init8</a>;</div><div class="line"><a name="l01473"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a67cb23ee762e9a9fea6db8b44706dae9"> 1473</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a67cb23ee762e9a9fea6db8b44706dae9">nPageNum_Init16</a>;</div><div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a95b92516e484da5dc0295ff53bd141cc"> 1475</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a95b92516e484da5dc0295ff53bd141cc">nPageNum_Init32</a>;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="preprocessor">  #if !defined(_FXMEM_NO64_)</span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="keywordtype">size_t</span>  nPageNum_Init64;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="preprocessor">  #endif</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div><div class="line"><a name="l01480"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a8ab86a739215345de123d8d4602487e4"> 1480</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a8ab86a739215345de123d8d4602487e4">nPageNum_More16</a>;</div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#acfecd2a6674105f4dc7e41c04d0d3ed8"> 1482</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#acfecd2a6674105f4dc7e41c04d0d3ed8">nPageNum_More32</a>;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="preprocessor">  #if !defined(_FXMEM_NO64_)</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <span class="keywordtype">size_t</span>  nPageNum_More64;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="preprocessor">  #endif</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="preprocessor">  #if defined(_FXMEM_LIT_)</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordtype">size_t</span>  nPageSize_Lit;</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordtype">size_t</span>  nPageNum_InitLit;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <span class="keywordtype">size_t</span>  nPageNum_MoreLit;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordtype">size_t</span>  nPageNum_ReservedLit;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="preprocessor">  #endif</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01493"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#ac3ad3a356d26118760a25f09d6e02a86"> 1493</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#ac3ad3a356d26118760a25f09d6e02a86">nPageSize_Mid</a>;</div><div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#acc9edac731c6341ada0a5fd3f7af9307"> 1495</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#acc9edac731c6341ada0a5fd3f7af9307">nPageNum_InitMid</a>;</div><div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a0a66bdcd4a7f70318f528ce721788e9d"> 1497</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a0a66bdcd4a7f70318f528ce721788e9d">nPageNum_MoreMid</a>;</div><div class="line"><a name="l01499"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a4c637d63f51c85f93411218e1961da75"> 1499</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a4c637d63f51c85f93411218e1961da75">nPageSize_Large</a>;</div><div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#ace9f91eff52f0f19763e53a7cb56b4c4"> 1501</a></span>&#160;  <span class="keywordtype">size_t</span>  <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html#ace9f91eff52f0f19763e53a7cb56b4c4">nPageSize_Alone</a>;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;}<a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html">FX_MEMCONFIG</a>;</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="keywordtype">void</span>  <a class="code" href="group___f_x_c_r_t.html#gadc2a5ac371738b176435568e41ef31ab">FXMEM_SetConfig</a>(<span class="keyword">const</span> <a class="code" href="struct_f_x___m_e_m_c_o_n_f_i_g.html">FX_MEMCONFIG</a>* memConfig);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="comment">//#define _FX_MEMSTATE_</span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="preprocessor">#if defined(_FX_MEMSTATE_)</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">struct </span>_FX_MEMPAGESTATE_</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keywordtype">size_t</span>  nCurMemSize;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordtype">size_t</span>  nMinMemSize;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordtype">size_t</span>  nMaxMemSize;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordtype">size_t</span>  nCurAvailSize;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordtype">size_t</span>  nMinAvailSize;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordtype">size_t</span>  nMaxAvailSize;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordtype">size_t</span>  nCurUsedSize;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordtype">size_t</span>  nMinUsedSize;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordtype">size_t</span>  nMaxUsedSize;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="keywordtype">size_t</span>  nCurUsedRate;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordtype">size_t</span>  nMinUsedRate;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordtype">size_t</span>  nMaxUsedRate;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordtype">size_t</span>  bValid;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  }FX_MEMPAGESTATE;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">struct </span>_FX_MEMINFO_</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  {</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordtype">size_t</span>      memBlockCount[64];</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    FX_MEMPAGESTATE  pageState8;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    FX_MEMPAGESTATE  pageState16;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    FX_MEMPAGESTATE  pageState32;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    FX_MEMPAGESTATE  pageStateMid;</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    FX_MEMPAGESTATE  pageStateLarge;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    FX_MEMPAGESTATE  totalState;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  }FX_MEMINFO;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="preprocessor">  #define FX_MEMSTATE_RATEFRACTION  100000</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordtype">void</span>      FX_MemState_MergeInfo(FX_MEMINFO *mi1, <span class="keyword">const</span> FX_MEMINFO *mi2);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  FX_MEMINFO*    FX_MemState_GetInfo();</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordtype">void</span>      FX_MemState_ResetInfo();</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="preprocessor">#endif //_FX_MEMSTATE_</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_BEGIN</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="preprocessor">#endif //_FX_MEMORY_H_</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_MUST_END</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment">//&lt;&lt;&lt;+++OPENSOURCE_END</span></div><div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_ac3ad3a356d26118760a25f09d6e02a86"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#ac3ad3a356d26118760a25f09d6e02a86">FX_MEMCONFIG::nPageSize_Mid</a></div><div class="ttdeci">size_t nPageSize_Mid</div><div class="ttdoc">Size of memory pages for middle data range (&gt; 32-bytes &amp; &lt;= FX_FIXEDMEM_MIDBLOCKSIZE)....</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1493</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga5c63073a201f4787f301ee27f8901aee"><div class="ttname"><a href="group___f_x_c_r_t.html#ga5c63073a201f4787f301ee27f8901aee">FXMEM_ReallocDebug</a></div><div class="ttdeci">void * FXMEM_ReallocDebug(FXMEM_FoxitMgr *pFoxitMgr, void *pointer, size_t new_size, int flags, FX_LPCSTR file, int line)</div><div class="ttdoc">Foxit basic memory reallocation function in debug-mode.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga60573e8cfb7dd7dcf96f2cd9b2ae630e"><div class="ttname"><a href="group___f_x_c_r_t.html#ga60573e8cfb7dd7dcf96f2cd9b2ae630e">FXMEM_GetBlockSizeInFixedMgr</a></div><div class="ttdeci">size_t FXMEM_GetBlockSizeInFixedMgr(FXMEM_FoxitMgr *pFoxitMgr, void *ptr)</div><div class="ttdoc">Get the size of a memory block to which ptr points.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga1ddb582bff3db4e143474b53d2155f50"><div class="ttname"><a href="group___f_x_c_r_t.html#ga1ddb582bff3db4e143474b53d2155f50">FXMEM_DefaultAlloc2</a></div><div class="ttdeci">void * FXMEM_DefaultAlloc2(size_t units, size_t unit_size, int flags)</div><div class="ttdoc">Default allocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga39138b06d1118d0c6f46785f1cfd2d0b"><div class="ttname"><a href="group___f_x_c_r_t.html#ga39138b06d1118d0c6f46785f1cfd2d0b">FX_Allocator_Alloc</a></div><div class="ttdeci">#define FX_Allocator_Alloc(fxAllocator, type, size)</div><div class="ttdoc">Release-mode allocation on an allocator.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1050</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga5bd03555281433ef41c6a84068c3e159"><div class="ttname"><a href="group___f_x_c_r_t.html#ga5bd03555281433ef41c6a84068c3e159">FXMEM_Free</a></div><div class="ttdeci">void FXMEM_Free(FXMEM_FoxitMgr *pFoxitMgr, void *pointer, int flags)</div><div class="ttdoc">Foxit basic memory free function.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga221a3f5c30e5edef32877a8306d638d6"><div class="ttname"><a href="group___f_x_c_r_t.html#ga221a3f5c30e5edef32877a8306d638d6">FXMEM_PurgeMgr</a></div><div class="ttdeci">void FXMEM_PurgeMgr(FXMEM_FoxitMgr *pFoxitMgr)</div><div class="ttdoc">Release all excessive memory without touching any used memory. This is useful for extensible fixed me...</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga5d5f62b566bd3a77d449fccb7b1a9656"><div class="ttname"><a href="group___f_x_c_r_t.html#ga5d5f62b566bd3a77d449fccb7b1a9656">ASSERT</a></div><div class="ttdeci">#define ASSERT(a)</div><div class="ttdoc">Assertion for debug mode, do nothing for release mode.</div><div class="ttdef"><b>Definition:</b> fx_system.h:794</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gaae0d815ba3467649def8daef4e75891d"><div class="ttname"><a href="group___f_x_c_r_t.html#gaae0d815ba3467649def8daef4e75891d">FXMEM_Alloc</a></div><div class="ttdeci">void * FXMEM_Alloc(FXMEM_FoxitMgr *pFoxitMgr, size_t size, int flags)</div><div class="ttdoc">Foxit basic memory allocation function.</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_a0316c6fb84ad7a307acc0efc4f8363d7"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a0316c6fb84ad7a307acc0efc4f8363d7">FX_MEMCONFIG::nPageNum_Init8</a></div><div class="ttdeci">size_t nPageNum_Init8</div><div class="ttdoc">Initial number of memory pages for 8-bytes fixed data size. 1 for desktop platforms,...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1471</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga3c260bff237ff35678290d2465dbd6da"><div class="ttname"><a href="group___f_x_c_r_t.html#ga3c260bff237ff35678290d2465dbd6da">FXMEM_Realloc</a></div><div class="ttdeci">void * FXMEM_Realloc(FXMEM_FoxitMgr *pFoxitMgr, void *pointer, size_t new_size, int flags)</div><div class="ttdoc">Foxit basic memory reallocation function.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gab48e50d5a280831b5ac669cb30ee6b72"><div class="ttname"><a href="group___f_x_c_r_t.html#gab48e50d5a280831b5ac669cb30ee6b72">FXMEM_DefaultFree</a></div><div class="ttdeci">void FXMEM_DefaultFree(void *pointer, int flags)</div><div class="ttdoc">Default free function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga845e3b8232e3ca518c79f47105160cd3"><div class="ttname"><a href="group___f_x_c_r_t.html#ga845e3b8232e3ca518c79f47105160cd3">FXMEM_GetDefAllocator</a></div><div class="ttdeci">IFX_Allocator * FXMEM_GetDefAllocator()</div><div class="ttdoc">Get default allocator used by the library.</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_a4c637d63f51c85f93411218e1961da75"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a4c637d63f51c85f93411218e1961da75">FX_MEMCONFIG::nPageSize_Large</a></div><div class="ttdeci">size_t nPageSize_Large</div><div class="ttdoc">Minimum size of memory page for large data (&gt; FX_FIXEDMEM_MIDBLOCKSIZE). 128 for desktop platforms,...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1499</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gaf299b214124c4dc1beb4e155aa1202eb"><div class="ttname"><a href="group___f_x_c_r_t.html#gaf299b214124c4dc1beb4e155aa1202eb">FX_Alloc</a></div><div class="ttdeci">#define FX_Alloc(type, size)</div><div class="ttdoc">A macro for Foxit memory allocation operation.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:651</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_a0a66bdcd4a7f70318f528ce721788e9d"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a0a66bdcd4a7f70318f528ce721788e9d">FX_MEMCONFIG::nPageNum_MoreMid</a></div><div class="ttdeci">size_t nPageNum_MoreMid</div><div class="ttdoc">More number of memory pages for middle data range. 4 for desktop platforms, 4 for limited memory envi...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1497</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gae235655d576e7ae534cbdaf48eb4e15b"><div class="ttname"><a href="group___f_x_c_r_t.html#gae235655d576e7ae534cbdaf48eb4e15b">FXMEM_CreateFoxitMgr</a></div><div class="ttdeci">FXMEM_FoxitMgr * FXMEM_CreateFoxitMgr(FXMEM_SystemMgr *pSystemMgr)</div><div class="ttdoc">Create a Foxit manager. A system manager must be provided for actual allocation.</div></div>
<div class="ttc" id="struct_f_x_m_e_m___system_mgr_html_a2b1fbc32711019f433f6e83dcfae98bf"><div class="ttname"><a href="struct_f_x_m_e_m___system_mgr.html#a2b1fbc32711019f433f6e83dcfae98bf">FXMEM_SystemMgr::user</a></div><div class="ttdeci">void * user</div><div class="ttdoc">A generic typeless pointer for user data.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:193</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga83a626d25e6204ffc6367fc2d8569d50"><div class="ttname"><a href="group___f_x_c_r_t.html#ga83a626d25e6204ffc6367fc2d8569d50">FXMEM_SetDefaultMgr</a></div><div class="ttdeci">void FXMEM_SetDefaultMgr(FXMEM_FoxitMgr *pFoxitMgr)</div><div class="ttdoc">Set default Foxit manager for current compile module (EXE, DLL, etc.).</div></div>
<div class="ttc" id="struct_f_x_m_e_m___debugger_html"><div class="ttname"><a href="struct_f_x_m_e_m___debugger.html">FXMEM_Debugger</a></div><div class="ttdoc">Memory debugger interface. All functions must be implemented.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:406</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga39a4a842bf1da0719cffabeee924e772"><div class="ttname"><a href="group___f_x_c_r_t.html#ga39a4a842bf1da0719cffabeee924e772">FXMEM_CollectAll</a></div><div class="ttdeci">void FXMEM_CollectAll(FXMEM_FoxitMgr *pFoxitMgr)</div><div class="ttdoc">Release all memory blocks allocated by a Foxit manager. This function is only supported on embedded s...</div></div>
<div class="ttc" id="fs__basictypes_8h_html_acfd5f7b33d7381a4bae9103c2c1285d8"><div class="ttname"><a href="fs__basictypes_8h.html#acfd5f7b33d7381a4bae9103c2c1285d8">operator==</a></div><div class="ttdeci">bool operator==(const char *str1, const CFX_ByteString &amp;str2)</div><div class="ttdoc">Check if two byte strings are equal.</div><div class="ttdef"><b>Definition:</b> fs_basictypes.h:128</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gaa75cf67c1a1aabffd8cdf879c6cfd894"><div class="ttname"><a href="group___f_x_c_r_t.html#gaa75cf67c1a1aabffd8cdf879c6cfd894">FX_BOOL</a></div><div class="ttdeci">int FX_BOOL</div><div class="ttdoc">Boolean variable (should be TRUE or FALSE).</div><div class="ttdef"><b>Definition:</b> fx_system.h:669</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gadc2a5ac371738b176435568e41ef31ab"><div class="ttname"><a href="group___f_x_c_r_t.html#gadc2a5ac371738b176435568e41ef31ab">FXMEM_SetConfig</a></div><div class="ttdeci">void FXMEM_SetConfig(const FX_MEMCONFIG *memConfig)</div><div class="ttdoc">Set configuration of fixed memory.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gae8d15b94983c03fb7320c7f749ae3766"><div class="ttname"><a href="group___f_x_c_r_t.html#gae8d15b94983c03fb7320c7f749ae3766">FXMEM_DefaultRealloc</a></div><div class="ttdeci">void * FXMEM_DefaultRealloc(void *pointer, size_t new_size, int flags)</div><div class="ttdoc">Default reallocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga2b5593b85806fa13822e09394c1234ff"><div class="ttname"><a href="group___f_x_c_r_t.html#ga2b5593b85806fa13822e09394c1234ff">FX_LPCSTR</a></div><div class="ttdeci">char const  * FX_LPCSTR</div><div class="ttdoc">Pointer to constant 8-bit Windows (ANSI) characters.</div><div class="ttdef"><b>Definition:</b> fx_system.h:683</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga25d14dfc6942f1e8b9518a78997e44d2"><div class="ttname"><a href="group___f_x_c_r_t.html#ga25d14dfc6942f1e8b9518a78997e44d2">FXMEM_GetDefaultMgr</a></div><div class="ttdeci">FXMEM_FoxitMgr * FXMEM_GetDefaultMgr()</div><div class="ttdoc">Get default memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga7d8f665ccf8544976f10dc72b91e493f"><div class="ttname"><a href="group___f_x_c_r_t.html#ga7d8f665ccf8544976f10dc72b91e493f">FXMEM_UseDebugger</a></div><div class="ttdeci">void FXMEM_UseDebugger(FXMEM_FoxitMgr *pFoxitMgr, FXMEM_Debugger *pDebugger)</div><div class="ttdoc">Use a memory debugger which capturing all memory activities. Use NULL for parameter pDebugger to stop...</div></div>
<div class="ttc" id="struct_f_x_m_e_m___system_mgr2_html"><div class="ttname"><a href="struct_f_x_m_e_m___system_mgr2.html">FXMEM_SystemMgr2</a></div><div class="ttdoc">Fixed memory manager.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:220</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga38c83c4d7fdec68008d74a093409fc8c"><div class="ttname"><a href="group___f_x_c_r_t.html#ga38c83c4d7fdec68008d74a093409fc8c">FXMEM_DefaultAllocDebug2</a></div><div class="ttdeci">void * FXMEM_DefaultAllocDebug2(size_t units, size_t unit_size, int flags, FX_LPCSTR file, int line)</div><div class="ttdoc">Default debug-mode allocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga0fedf38e31c6f77437d15d234c04af7f"><div class="ttname"><a href="group___f_x_c_r_t.html#ga0fedf38e31c6f77437d15d234c04af7f">FXMEM_DestroyFoxitMgr</a></div><div class="ttdeci">void FXMEM_DestroyFoxitMgr(FXMEM_FoxitMgr *pFoxitMgr)</div><div class="ttdoc">Destroy a Foxit manager instance. If the platform supports auto-collection, then all allocated memory...</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gaa7f782ca09293b3694a0c3b3ae0e6b28"><div class="ttname"><a href="group___f_x_c_r_t.html#gaa7f782ca09293b3694a0c3b3ae0e6b28">FXMEM_OutputDebugTag</a></div><div class="ttdeci">void FXMEM_OutputDebugTag(FXMEM_FoxitMgr *pFoxitMgr, FX_LPCSTR tag)</div><div class="ttdoc">Output a memory debug tag.</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_a95b92516e484da5dc0295ff53bd141cc"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a95b92516e484da5dc0295ff53bd141cc">FX_MEMCONFIG::nPageNum_Init32</a></div><div class="ttdeci">size_t nPageNum_Init32</div><div class="ttdoc">Initial number of memory pages for 32-bytes fixed data size. 24 for desktop platforms,...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1475</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_a8ab86a739215345de123d8d4602487e4"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a8ab86a739215345de123d8d4602487e4">FX_MEMCONFIG::nPageNum_More16</a></div><div class="ttdeci">size_t nPageNum_More16</div><div class="ttdoc">More number of memory pages for 16-bytes fixed data size. 8 for desktop platforms,...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1480</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga610dbf07bf0438472f88d737ce1ac962"><div class="ttname"><a href="group___f_x_c_r_t.html#ga610dbf07bf0438472f88d737ce1ac962">FXMEM_DefaultReallocDebug2</a></div><div class="ttdeci">void * FXMEM_DefaultReallocDebug2(void *pointer, size_t units, size_t unit_size, int flags, FX_LPCSTR file, int line)</div><div class="ttdoc">Default debug-mode reallocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga959b5d0870645bdd6a3d0b9b9bb09e27"><div class="ttname"><a href="group___f_x_c_r_t.html#ga959b5d0870645bdd6a3d0b9b9bb09e27">operator+</a></div><div class="ttdeci">CFX_ByteString operator+(FX_BSTR str1, FX_BSTR str2)</div><div class="ttdoc">Concatenate a non-buffered byte string and a non-buffered byte string.</div><div class="ttdef"><b>Definition:</b> fx_string.h:971</div></div>
<div class="ttc" id="struct_i_f_x___allocator_html"><div class="ttname"><a href="struct_i_f_x___allocator.html">IFX_Allocator</a></div><div class="ttdoc">Foxit allocator interface.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:960</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gaaf5f92018115eb5334fa496a3060433e"><div class="ttname"><a href="group___f_x_c_r_t.html#gaaf5f92018115eb5334fa496a3060433e">FXMEM_DefaultAlloc</a></div><div class="ttdeci">void * FXMEM_DefaultAlloc(size_t byte_size, int flags)</div><div class="ttdoc">Default allocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga1404788c5e4c538b80625db682ac5a4f"><div class="ttname"><a href="group___f_x_c_r_t.html#ga1404788c5e4c538b80625db682ac5a4f">FX_Free</a></div><div class="ttdeci">#define FX_Free(pointer)</div><div class="ttdoc">A macro for Foxit memory free operation.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:676</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gaf310478443bfad8646b93ef6e4a9db51"><div class="ttname"><a href="group___f_x_c_r_t.html#gaf310478443bfad8646b93ef6e4a9db51">FXMEM_CreateFixedMgr</a></div><div class="ttdeci">FXMEM_FoxitMgr * FXMEM_CreateFixedMgr(void *pMemory, size_t size, FXMEM_SystemMgr2 *pExtender)</div><div class="ttdoc">Create a Foxit manager from a pre-allocated, fixed memory buffer.</div></div>
<div class="ttc" id="struct_f_x_m_e_m___system_mgr_html"><div class="ttname"><a href="struct_f_x_m_e_m___system_mgr.html">FXMEM_SystemMgr</a></div><div class="ttdoc">System level memory manager. Application can implement their own system memory manager.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:72</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_acc9edac731c6341ada0a5fd3f7af9307"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#acc9edac731c6341ada0a5fd3f7af9307">FX_MEMCONFIG::nPageNum_InitMid</a></div><div class="ttdeci">size_t nPageNum_InitMid</div><div class="ttdoc">Initial number of memory pages for middle data range. 2 for desktop platforms, 2 for limited memory e...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1495</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga16a2b12fc0bef588016c4c0fce2f8506"><div class="ttname"><a href="group___f_x_c_r_t.html#ga16a2b12fc0bef588016c4c0fce2f8506">FPDF_OOM_Handler</a></div><div class="ttdeci">void(* FPDF_OOM_Handler)(FXMEM_FoxitMgr *pFoxitMgr, void *param)</div><div class="ttdoc">the prototype of the Out-Of-Memory handler.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:524</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_a67cb23ee762e9a9fea6db8b44706dae9"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#a67cb23ee762e9a9fea6db8b44706dae9">FX_MEMCONFIG::nPageNum_Init16</a></div><div class="ttdeci">size_t nPageNum_Init16</div><div class="ttdoc">Initial number of memory pages for 16-bytes fixed data size. 8 for desktop platforms,...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1473</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga377b57daa82ed9d1902ca0d6669d74fa"><div class="ttname"><a href="group___f_x_c_r_t.html#ga377b57daa82ed9d1902ca0d6669d74fa">FXMEM_AllocDebug</a></div><div class="ttdeci">void * FXMEM_AllocDebug(FXMEM_FoxitMgr *pFoxitMgr, size_t size, int flags, FX_LPCSTR file, int line)</div><div class="ttdoc">Foxit basic memory allocation function in debug-mode.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gae38808021b371e293fed6407c0c2e3e1"><div class="ttname"><a href="group___f_x_c_r_t.html#gae38808021b371e293fed6407c0c2e3e1">FXMEM_ReportOOM</a></div><div class="ttdeci">void FXMEM_ReportOOM(FXMEM_FoxitMgr *pFoxitMgr)</div><div class="ttdoc">Report Out-of-memory (OOM).</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gac9cbf18960498b1eddc786f3b953224a"><div class="ttname"><a href="group___f_x_c_r_t.html#gac9cbf18960498b1eddc786f3b953224a">FXMEM_SetOOMHandler</a></div><div class="ttdeci">void FXMEM_SetOOMHandler(FXMEM_FoxitMgr *pFoxitMgr, FPDF_OOM_Handler pOOMReportFunc, void *param)</div><div class="ttdoc">Setup A Out-Of-Memory handler for a Foxit memory manager.</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_acfecd2a6674105f4dc7e41c04d0d3ed8"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#acfecd2a6674105f4dc7e41c04d0d3ed8">FX_MEMCONFIG::nPageNum_More32</a></div><div class="ttdeci">size_t nPageNum_More32</div><div class="ttdoc">More number of memry pages for 32-bytes fixed data size. 24 for desktop platforms,...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1482</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga0e14a7273164a9365672354d10b5c66f"><div class="ttname"><a href="group___f_x_c_r_t.html#ga0e14a7273164a9365672354d10b5c66f">FXMEM_CreateMemoryMgr</a></div><div class="ttdeci">FXMEM_FoxitMgr * FXMEM_CreateMemoryMgr(size_t size, FX_BOOL extensible)</div><div class="ttdoc">Create a fixed memory manager as default implementation.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga0bea62e42a0c3ca5d3ea6810f15fe246"><div class="ttname"><a href="group___f_x_c_r_t.html#ga0bea62e42a0c3ca5d3ea6810f15fe246">FXMEM_DefaultAllocDebug</a></div><div class="ttdeci">void * FXMEM_DefaultAllocDebug(size_t size, int flags, FX_LPCSTR file, int line)</div><div class="ttdoc">Default debug-mode allocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html">FX_MEMCONFIG</a></div><div class="ttdoc">Structure of fixed memory configuration.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1468</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gacea607ace87e91f2b0cccf2f65b3b339"><div class="ttname"><a href="group___f_x_c_r_t.html#gacea607ace87e91f2b0cccf2f65b3b339">FXMEM_DefaultRealloc2</a></div><div class="ttdeci">void * FXMEM_DefaultRealloc2(void *pointer, size_t units, size_t unit_size, int flags)</div><div class="ttdoc">Default reallocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="struct_f_x___m_e_m_c_o_n_f_i_g_html_ace9f91eff52f0f19763e53a7cb56b4c4"><div class="ttname"><a href="struct_f_x___m_e_m_c_o_n_f_i_g.html#ace9f91eff52f0f19763e53a7cb56b4c4">FX_MEMCONFIG::nPageSize_Alone</a></div><div class="ttdeci">size_t nPageSize_Alone</div><div class="ttdoc">Minimum size of alone memory page for large data. 64 for desktop platforms, 64 for limited memory env...</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1501</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group___f_x_c_r_t.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdoc">The null-pointer value.</div><div class="ttdef"><b>Definition:</b> fx_system.h:767</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga70ffe9aa46fe93b5595ae1920c41b681"><div class="ttname"><a href="group___f_x_c_r_t.html#ga70ffe9aa46fe93b5595ae1920c41b681">FX_DEFINEHANDLE</a></div><div class="ttdeci">#define FX_DEFINEHANDLE(name)</div><div class="ttdoc">Macro to define a handle type.</div><div class="ttdef"><b>Definition:</b> fx_system.h:747</div></div>
<div class="ttc" id="fs__basictypes_8h_html_abf1bb33dae0fbee234dbfeb8d0e2d270"><div class="ttname"><a href="fs__basictypes_8h.html#abf1bb33dae0fbee234dbfeb8d0e2d270">operator!=</a></div><div class="ttdeci">bool operator!=(const char *str1, const CFX_ByteString &amp;str2)</div><div class="ttdoc">Check if two byte strings are not equal.</div><div class="ttdef"><b>Definition:</b> fs_basictypes.h:140</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_gaaa35b88a6c2a0932f53366f29e72b3ce"><div class="ttname"><a href="group___f_x_c_r_t.html#gaaa35b88a6c2a0932f53366f29e72b3ce">FX_Allocator_Free</a></div><div class="ttdeci">#define FX_Allocator_Free(fxAllocator, ptr)</div><div class="ttdoc">Free memory block on an allocator.</div><div class="ttdef"><b>Definition:</b> fx_memory.h:1057</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga3b0d9004e86508b5c9d8868e81fb31e6"><div class="ttname"><a href="group___f_x_c_r_t.html#ga3b0d9004e86508b5c9d8868e81fb31e6">FXMEM_DefaultReallocDebug</a></div><div class="ttdeci">void * FXMEM_DefaultReallocDebug(void *pointer, size_t new_size, int flags, FX_LPCSTR file, int line)</div><div class="ttdoc">Default debug-mode reallocation function using default Foxit memory manager for current module.</div></div>
<div class="ttc" id="group___f_x_c_r_t_html_ga67373b495022b8af2b92b7a0f0ba60a9"><div class="ttname"><a href="group___f_x_c_r_t.html#ga67373b495022b8af2b92b7a0f0ba60a9">FX_BYTE</a></div><div class="ttdeci">unsigned char FX_BYTE</div><div class="ttdoc">Byte (8 bits).</div><div class="ttdef"><b>Definition:</b> fx_system.h:643</div></div>
<div class="ttc" id="fx__system_8h_html"><div class="ttname"><a href="fx__system_8h.html">fx_system.h</a></div><div class="ttdoc">Header file for system related definitions.</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<html>
<body>
<div id="nav-path">
<hr class="footer"/>
<p align="right">
	<center>
	<img class="footer" src="logo.png" alt="Foxit Software Corporation Logo"/>
	</center>
	<center>
	@2020 Foxit Software Incorporated. All rights reserved.
	</center>
</p>
</div>
</BODY></HTML>
